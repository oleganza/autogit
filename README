autogit is an easy way to require specific versions of libraries, stored in git repositories.

EXAMPLE

  autogit 'git://github.com/oleganza/gem_console.git', 'f2c55bd10cd9cae14e5bf7bde523ac3a7b66561a'
  require 'gem_console'
  autogit 'git://github.com/wycats/merb.git',          '1.0.7.1'
  require 'merb/lib/merb'

HOW IT WORKS

  Suppose we have a following definition:
    
    autogit 'git://github.com/oleganza/gem_console.git', 'f2c55bd10cd9cae14e5bf7bde523ac3a7b66561a'
    
  1. autogit creates a bare repository (--no-checkout):
  
    ~/.autogit/repositories/github.com-oleganza-gem_console
    
  2. Clones local repository with --shared flag into:
  
    ~/.autogit/checkouts/github.com-oleganza-gem_console/f2c55bd10cd9cae14e5bf7bde523ac3a7b66561a
  
  3. Checks out f2c55bd10cd9cae14e5bf7bde523ac3a7b66561a commit inside that repo
  
  4. Adds a checked out path to the $LOAD_PATH 
     If ./lib subfolder exists, it is used instead (i.e. gem-like load path)

  To clean cache of checked out revisions: $ rm -rf ~/.autogit/checkouts 
  
  The library is very simple and could be easily extended whenever you need to. 
  The following code shows how a list of gems could be organized for different environments:

  sources = %w{
    git://github.com/
    git@localhost:github/
    ~/github/
  }
  libs = {
    "oleganza/declarations" => "f05be8ca8a77",
    "oleganza/autogit"      => "84b14f0df",
    "rails/rails"           => "2.2.2",
    "yrashk/strokedb"       => "0.2.1"
  }

  libs.each do |path, commit|
    autogit(sources.map{|s| s + path }, commit)
  end

  
TODO

  integration tests to cover all interesting cases
    
NOTES

  1. It is a bad idea to check out branch heads, so i don't even try to implement automatic pull for checkouts.
  2. autogit does not have any executable script like "gem install" or "gem update" intentionally. 
  3. To fix or optimize your repositories, go to ~/.autogit folder and use standard git tools.
  4. --quiet flag is not used to inform user when initial cloning or checkout is performed. Second run will not emit any
     verbose output.
  
META

  Author:   Oleg Andreev <oleganza@gmail.com>
  Date:     January 29, 2009
  License:  WTFPL http://sam.zoy.org/wtfpl/
